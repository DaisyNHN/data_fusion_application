<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ldn.cs.decision.dao.DecisionThresholdDao">
    <select id="getDecisionThreshold" resultType="ldn.cs.decision.pojo.threshold.DecisionThreshold">
        SELECT id, categories, attributes, attributesValue, updateTime FROM tbl_decision_threshold_info
        WHERE categories = #{categories} and attributes = #{attributes}
    </select>

    <update id="updateDecisionThreshold" parameterType="java.util.List">
        <foreach collection="thresholds" item="threshold" separator=";">
            UPDATE tbl_decision_threshold_info
            SET
            attributesValue = #{threshold.attributesValue}
            WHERE
            categories = #{threshold.categories} AND attributes = #{threshold.attributes}
        </foreach>
    </update>
</mapper>