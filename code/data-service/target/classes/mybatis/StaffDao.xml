<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ldn.cs.fusion.dao.StaffDao">

    <!-- 新增数据 -->
    <insert id="addStaffInfos" parameterType="ldn.cs.fusion.pojo.Staff">
        INSERT INTO tbl_staff_info_original(corporation,categories,position,skill,eventTime, updateTime)
        VALUES
        <foreach collection="list" item="staff" separator=",">
            (#{staff.corporation}, #{staff.categories}, #{staff.position}, #{staff.skill}, #{staff.eventTime}, #{staff.updateTime})
        </foreach>
    </insert>

    <!-- 查询报表 -->
    <select id="getStaffInfos" resultType="ldn.cs.fusion.pojo.Staff">
        select * from tbl_staff_info_original
        <where>
            1=1
            <if test="statement != null and statement != ''">
                <if test="types == 1">
                    AND corporation = #{statement}
                </if>
                <if test="types == 2">
                    AND updateTime = #{statement}
                </if>
            </if>
        </where>
        LIMIT #{limit} OFFSET #{offset}
    </select>

    <!-- 查询报表 -->
    <select id="getTotalStaff" resultType="int">
        select count(1) from tbl_staff_info_original
        <where>
            1=1
            <if test="statement != null and statement != ''">
                <if test="types == 1">
                    AND corporation = #{statement}
                </if>
                <if test="types == 2">
                    AND updateTime = #{statement}
                </if>
            </if>
        </where>
    </select>
</mapper>